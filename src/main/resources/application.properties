# =====================================================
# ???????????? Spring Boot ??????????
# ??????? ?????????? ?????????????? ??????????? ???????
# =====================================================

# =====================================================
# ????????? ???????
# =====================================================

# ????, ?? ??????? ????? ???????? ??????????
server.port=8080

# ?????????
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# =====================================================
# ????????? ??????????? ? POSTGRESQL
# =====================================================

# URL ??????????? ? ???? ??????
# ??????: jdbc:postgresql://????:????/???_????
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres

# ??? ???????????? PostgreSQL
spring.datasource.username=postgres

# ?????? ???????????? PostgreSQL
spring.datasource.password=123

# ??????? JDBC ??? PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# ????????? ???? ?????????? HikariCP
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# =====================================================
# ????????? JPA / HIBERNATE
# =====================================================

# ??????? ??? PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ????????? ?????? ? ??
# none - ?? ???????? ????????? ?? (????????????? ??? ??????????)
# validate - ?????? ????????? ????????????
# update - ????????? ????????? (????? ???????? ??????)
# create - ????????????? ?? ?????? ??? (?????? ??????)
# create-drop - ??????? ??? ??????, ??????? ??? ?????????
spring.jpa.hibernate.ddl-auto=none

# ?????????? SQL ??????? ? ??????? (??? ???????)
spring.jpa.show-sql=true

# ????????????? SQL ??? ??????????
spring.jpa.properties.hibernate.format_sql=true

# ?????????? ????????? SQL ????????
spring.jpa.properties.hibernate.use_sql_comments=true

# ????????? ?????????? ?????? ? ?????
# ?????????? ????? ??? ???? (??? ?????????????? camelCase ? snake_case)
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# ????????? ?????????? ??? ??????? ????????
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# =====================================================
# ????????? THYMELEAF
# =====================================================

# ??????? ???????? (???? ? ????? ? HTML)
spring.thymeleaf.prefix=classpath:/templates/

# ??????? ???????? (?????????? ??????)
spring.thymeleaf.suffix=.html

# ??? ????????
spring.thymeleaf.mode=HTML

# ????????? ????????
spring.thymeleaf.encoding=UTF-8

# ??????????? ????????
# false - ??? ?????????? (????????? ????? ?????)
# true - ??? ?????????? (??????? ????????)
spring.thymeleaf.cache=false

# ????????? ????????????? ????????
spring.thymeleaf.check-template=true
spring.thymeleaf.check-template-location=true

# =====================================================
# ????????? ???????????
# =====================================================

# ??????? ??????????? ??? ????? ??????????
logging.level.root=INFO

# ??????? ??????????? ??? Spring Framework
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=DEBUG

# ??????? ??????????? ??? Hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# ??????? ??????????? ??? ?????? ??????????
logging.level.ru.bank.cards=DEBUG

# ?????? ?????? ????? ? ???????
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ???? ????? (???????????)
# logging.file.name=logs/application.log
# logging.file.max-size=10MB
# logging.file.max-history=30

# =====================================================
# ????????? HTTP ??????
# =====================================================

# ????? ????? ?????? (30 ?????)
server.servlet.session.timeout=30m

# ??? cookie ??????
server.servlet.session.cookie.name=CORPORATE_CARDS_SESSION

# ???? cookie
server.servlet.session.cookie.path=/

# HTTP only cookie (?????? ?? XSS)
server.servlet.session.cookie.http-only=true

# =====================================================
# ????????? ???????? ?????? (???? ?????? ?????????)
# =====================================================

# ???????????? ?????? ????? (10MB)
spring.servlet.multipart.max-file-size=10MB

# ???????????? ?????? ??????? (10MB)
spring.servlet.multipart.max-request-size=10MB

# ???????? ???????? ??????
spring.servlet.multipart.enabled=true

# =====================================================
# ????????? JACKSON (JSON)
# =====================================================

# ?????? ??? ? JSON
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Europe/Moscow

# ?? ???????? null ???????? ? JSON
spring.jackson.default-property-inclusion=NON_NULL

# =====================================================
# ?????????????? ?????????
# =====================================================

# ???????? ????? ? ????? ???????
spring.output.ansi.enabled=ALWAYS

# ?????? ??? ??????? (????? ?????????)
spring.main.banner-mode=console

# ????????? ??????????????? ????? (??? ??????????)
spring.main.allow-bean-definition-overriding=false

# ??????? ????????????? ????? (??????? ??????)
spring.main.lazy-initialization=false

# =====================================================
# ????????? ??? ?????? ?????????
# =====================================================

# ???????? ??????? (dev, prod, test)
# spring.profiles.active=dev

# ??? ??????? dev ?????? ??????? application-dev.properties
# ??? ??????? prod ?????? ??????? application-prod.properties